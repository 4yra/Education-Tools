import urllib.request
from PIL import Image
import numpy as np
import pickle
import cv2
import matplotlib.pyplot as plt
import base64
import io


# url = "data:image/png;base64,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"
# url_response = urllib.request.urlopen(url)
# img_array = np.array(bytearray(url_response.read()), dtype=np.uint8)


model = pickle.load(open('mnist_model.sav', 'rb'))
base64_img = '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'
def load_img(img_b64):
    decode_img = base64.b64decode(img_b64)
    image = Image.open(io.BytesIO(decode_img))
    image_np = np.array(image)
    return image_np

img_array = load_img(base64_img)

img_resize = cv2.resize(img_array, (28,28), interpolation=cv2.INTER_LINEAR)
img_resize = cv2.bitwise_not(img_resize)

final = model.predict(img_resize.reshape(1, -1))
print(final)


images = cv2.resize(img_array, (28,28), interpolation=cv2.INTER_LINEAR)
plt.figure(figsize=(2,2), dpi=80)
plt.imshow(images, cmap='gray')
plt.show()